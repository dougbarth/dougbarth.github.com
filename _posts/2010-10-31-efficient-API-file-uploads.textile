---
title: Efficient API File Uploads
layout: default
---

Receiving files in a web application is an annoying programming task, second
only to dealing with timezones. On the face of it, it seems like such a simple
task: receive an encoded form of the file and write it to disk. The problems
start once being stress testing your application with larger and larger files.

There is really only one golden rule for dealing with files that can be big:
never load the whole file into memory.

Out of the box, Rails does a good job following this rule for HTML views. When
receiving a multipart form post, Rack places the multipart portions of the post
into temporary files and then maps those files into the params hash passed to
your application.

But what about when receiving an API call?

h1. The Wrong Way


